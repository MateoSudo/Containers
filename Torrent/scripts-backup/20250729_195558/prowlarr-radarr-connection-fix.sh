#!/bin/bash

echo "ğŸ”§ Prowlarr-Radarr Connection Fix"
echo "================================="
echo ""
echo "âœ… SOLUTION FOUND!"
echo ""
echo "ğŸ“‹ Problem:"
echo "â€¢ http://torrent-radarr:7878/ won't resolve in Prowlarr"
echo "â€¢ Network isolation between Prowlarr (VPN) and Radarr (media-network)"
echo ""
echo "ğŸŒ Working URLs for Prowlarr â†’ Radarr:"
echo "======================================="
echo ""
echo "âœ… PRIMARY SOLUTION:"
echo "â€¢ URL: http://172.19.0.6:7878"
echo "â€¢ This is Radarr's actual IP address"
echo "â€¢ Tested and working (HTTP 401 = connection successful)"
echo ""
echo "ğŸ“‹ Alternative URLs (if needed):"
echo "â€¢ http://localhost:7878 (host network)"
echo "â€¢ http://radarr:7878 (if DNS resolution works)"
echo ""
echo "ğŸ”§ Step-by-Step Setup:"
echo "======================"
echo ""
echo "1. ğŸ” Access Prowlarr:"
echo "   â€¢ Visit: http://localhost:9696"
echo "   â€¢ Login with your credentials"
echo ""
echo "2. âš™ï¸ Go to Apps Settings:"
echo "   â€¢ Navigate to: Settings â†’ Apps"
echo "   â€¢ Click 'Add App'"
echo "   â€¢ Select 'Radarr'"
echo ""
echo "3. ğŸ”§ Configure Radarr Connection:"
echo "   â€¢ Name: Radarr"
echo "   â€¢ Prowlarr URL: http://prowlarr:9696"
echo "   â€¢ Radarr URL: http://172.19.0.6:7878"
echo "   â€¢ API Key: (get from Radarr Settings â†’ General)"
echo "   â€¢ Sync Level: Add Only"
echo "   â€¢ Categories: Movies (2000, 2010, 2020, etc.)"
echo ""
echo "4. ğŸ§ª Test the Connection:"
echo "   â€¢ Click 'Test' button in Prowlarr"
echo "   â€¢ Should show 'Success' if working"
echo ""
echo "ğŸ“‹ API Key Location:"
echo "==================="
echo "â€¢ Open Radarr: http://localhost:7878"
echo "â€¢ Go to: Settings â†’ General"
echo "â€¢ Copy the 'API Key' value"
echo "â€¢ Paste it into Prowlarr's Radarr configuration"
echo ""
echo "âš ï¸ Important Notes:"
echo "=================="
echo "â€¢ Use IP address (172.19.0.6) for most reliable connection"
echo "â€¢ The hostname 'torrent-radarr' won't work due to network isolation"
echo "â€¢ Prowlarr is on VPN network, Radarr is on media-network"
echo "â€¢ This is the expected behavior for your VPN setup"
echo ""
echo "ğŸš€ Your Prowlarr-Radarr connection should now work!"
echo ""
echo "ğŸŒ Service URLs:"
echo "   â€¢ Radarr:   http://localhost:7878"
echo "   â€¢ Prowlarr: http://localhost:9696"
echo "   â€¢ Radarr IP: http://172.19.0.6:7878" 